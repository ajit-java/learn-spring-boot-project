/*!
 * ImmobilienScout24 Core JS, v2.1.0
 * http://www.immobilienscout24.de/
 */
var IS24=IS24||{};IS24.core=IS24.core||{},function(){"use strict";var a={documentReady:function(a){document.addEventListener?document.addEventListener("DOMContentLoaded",a):document.attachEvent&&document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&a()})},addEventListener:function(a,b,c,d){return a.addEventListener?(a.addEventListener(b,c,d),!0):a.attachEvent?a.attachEvent("on"+b,c):void 0},getPageScroll:function(){var a={top:0,left:0};return"scrollTop"in document.documentElement&&"scrollLeft"in document.documentElement?(a.top=document.documentElement.scrollTop+document.body.scrollTop,a.left=document.documentElement.scrollLeft+document.body.scrollLeft):"pageYOffset"in document.body&&"pageXOffset"in document.body&&(a.top=document.body.pageYOffset,a.left=document.body.pageXOffset),a},getCoordinates:function(a){var b=a.getBoundingClientRect()?a.getBoundingClientRect():{top:0,left:0},c={};return c.x=parseInt(b.left+this.getPageScroll().left,10),c.y=parseInt(b.top+this.getPageScroll().top,10),c},hasClass:function(a,b){var c,d;if(a&&b)return c=(" "+a.className+" ").replace(/\s+/g," "),d=new RegExp("\\s"+b+"\\s","g"),!!c.match(d)},addClass:function(a,b){var c=this.hasClass(a,b);c||(a.className+=" "+b)},removeClass:function(a,b){var c=this.hasClass(a,b);c&&(a.className=(" "+a.className+" ").replace(" "+b+" "," ").replace(/^\s+|\s+$/g,""))},toggleClass:function(a,b){var c=this.hasClass(a,b);c?this.removeClass(a,b):this.addClass(a,b)},nearestAncestor:function(a,b){var c,d=a,e=0===b.indexOf(".");if(b=e?b.substring(1):b,e){for(;d.parentNode;)if(d=d.parentNode,this.hasClass(d,b)){c=d;break}}else for(;d.parentNode;)if(d=d.parentNode,d.nodeName.toLowerCase()===b.toLowerCase()){c=d;break}return c},resolveURLString:function(a){var b=-1!==a.indexOf("?"),c=-1!==a.indexOf("#");return{hostAndPath:b?a.split("?")[0]:a.split("#")[0],search:b?a.substring(a.indexOf("?")).split("#")[0]:"",hash:c?a.substring(a.indexOf("#")):""}},attachLinkParameters:function(a,b){var c,d,e,f,g,h,i,j,k=/[^\w\-\s.,+%@&="\[\]]/g,l={};if(a&&a.href&&b&&"object"==typeof b){for(j in b)b.hasOwnProperty(j)&&(c=j.replace(k,""),d=b[j].replace(k,""),l[c]=d);for(e=this.resolveURLString(a.href),f=e.search?e.search.substring(1).split("&"):[],i=0;i<f.length;i++)g=f[i].split("=")[0],l[g]&&f.splice(i,1);for(j in l)l.hasOwnProperty(j)&&f.push(j+"="+l[j]);h="?"+f.join("&"),a.href=e.hostAndPath+h+e.hash}}};IS24.core.helpers={loadScript:function(a){var b=document.createElement("script");b.type="text/javascript",b.src=a,document.getElementsByTagName("head")[0].appendChild(b)},getLocation:function(){return window.location}},IS24.core.fixElementToViewportTop=function(){function b(){k=a.getPageScroll().top}function c(){j=a.getCoordinates(g).y}function d(){k>j&&!m?(a.addClass(h,i),m=!0):j>k&&m&&(a.removeClass(h,i),m=!1)}function e(){l||(l=window.setTimeout(function(){l=null},n),c()),b(),d()}function f(){g=document.querySelector(".fix-to-top-wrapper"),h=document.querySelector(".fix-to-top"),i="fix-to-top--fixed",g&&h&&(a.addEventListener(window,"resize",e),a.addEventListener(window,"scroll",e),c(),b(),d())}var g,h,i,j,k,l,m=!1,n=1e3;return{init:f}}(),IS24.core.sso=function(){function b(){for(var a,b,c=IS24.core.helpers.getLocation().hostname;"."===c.slice(0,1);)c=c.slice(1);for(;"."===c.slice(-1);)c=c.slice(0,c.length-1);return-1!==c.indexOf(".")&&(a=c.substring(0,c.lastIndexOf(".")-1),b=a.lastIndexOf("."),-1!==b&&(c=c.substring(b+1))),c}function c(){return"sso."+b()}function d(b){var c=document.getElementById("link_loginLinkInternal"),d=document.getElementById("link_logoutLinkInternal"),e=document.getElementById("link_registerLinkInternal"),f=encodeURIComponent(b.ssoReturnUrl),g=encodeURIComponent(b.ssoAppName);c&&a.attachLinkParameters(c,{returnUrl:f,appName:g}),d&&a.attachLinkParameters(d,{"openid.ssoff.rp_post_logout_url":f}),e&&a.attachLinkParameters(e,{sso_return:f,appName:g})}function e(a){var b=c(),d=Math.round((new Date).getTime()/1e3);return"https://"+b+"/sso/getLoginInfo?callback="+a+"&ts="+d}function f(){var a={ssoReturnUrl:IS24.ssoReturnUrl||IS24.core.helpers.getLocation().href,ssoAppName:IS24.ssoAppName||"is24main"};d(a),IS24.core.helpers.loadScript(e("IS24.core.sso.jsonpCallback"))}function g(b){var c=document.querySelector(".sso-login"),d=document.querySelector(".sso-login__user-name"),e="sso-login--logged-in";b&&b.username&&c&&d&&(d.innerHTML=b.username,a.addClass(c,e))}return{updateLoginStatus:f,jsonpCallback:g}}(),IS24.core.topNavigation={slideIn:function(){function b(b,c){b.preventDefault(),a.toggleClass(g,h+c)}function c(b){var c=b.target||b.srcElement;a.nearestAncestor(c,".top-navigation__slide-in--left")||a.nearestAncestor(c,".top-navigation__slide-in--right")?b.stopPropagation():a.hasClass(g,h+"left")?(b.preventDefault(),a.removeClass(g,h+"left")):a.hasClass(g,h+"right")&&(b.preventDefault(),a.removeClass(g,h+"right"))}function d(){e=document.querySelector(".top-navigation__slide-in-trigger--left"),f=document.querySelector(".top-navigation__slide-in-trigger--right"),g=document.querySelector(".top-navigation-slide-in-container"),h="top-navigation-slide-in-container--open-",g&&!i&&(e&&a.addEventListener(e,"click",function(a){b(a,"left")}),f&&a.addEventListener(f,"click",function(a){b(a,"right")}),(e||f)&&a.addEventListener(document,"touchend",function(a){c(a)}),i=!0)}var e,f,g,h,i=!1;return{init:d}}(),touchHover:function(){function b(){var a,b=document.querySelectorAll?document.querySelectorAll('[class*="top-navigation__slide-in-trigger--"]'):[],c=!1;for(a=0;a<b.length;a++)0!==b[a].offsetWidth&&(c=!0);return c}function c(c){var d,e;if(!b()&&j!==c.target){for(j=c.target,c.preventDefault(),c.stopPropagation(),e=0;e<g.length;e++)a.removeClass(g[e],i);d=a.nearestAncestor(c.target,"li"),a.addClass(d,i)}}function d(){var b;if(j)for(j=void 0,b=0;b<g.length;b++)a.removeClass(g[b],i)}function e(){var b;for(b=0;b<h.length;b++)a.addEventListener(h[b],"touchstart",c);a.addEventListener(document,"touchstart",d)}function f(){g=document.querySelectorAll(".top-navigation__hover-tabs > li"),h=document.querySelectorAll(".top-navigation__hover-tabs__label"),i="hover",0===h.length||0===g.length||k||(e(),k=!0)}var g,h,i,j,k=!1;return{init:f}}(),init:function(){this.slideIn.init(),this.touchHover.init()}}}();